# Dockerfile.agent â€” Grafana Agent container for Sara AI

FROM grafana/agent:v0.32.0

# Copy default River configuration into a safe path inside the image
COPY agent-config.river /opt/agent/default_config.river

# Create WAL directory
RUN mkdir -p /tmp/agent/wal && chmod -R 0755 /tmp/agent/wal

# Copy entrypoint script
COPY entrypoint.sh /opt/agent/entrypoint.sh
RUN chmod +x /opt/agent/entrypoint.sh

# Set entrypoint
ENTRYPOINT ["/opt/agent/entrypoint.sh"]
